{"clientVersion":"5.22.0","level":"error","message":"Erro ao processar chat: \nInvalid `prisma.message.create()` invocation in\nC:\\Users\\Acer\\Desktop\\Vant\\back-end\\src\\services\\conversation.service.ts:59:42\n\n  56   }\n  57 });\n  58 \n→ 59 const message = await prisma.message.create({\n       data: {\n         conversationId: \"b950715b-fbbf-4135-930a-9a3cc025a3a1\",\n         role: \"assistant\",\n         content: null,\n     +   conversation: {\n     +     create: ConversationCreateWithoutMessagesInput | ConversationUncheckedCreateWithoutMessagesInput,\n     +     connectOrCreate: ConversationCreateOrConnectWithoutMessagesInput,\n     +     connect: ConversationWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `conversation` is missing.","name":"PrismaClientValidationError","service":"perplexity-api","stack":"PrismaClientValidationError: \nInvalid `prisma.message.create()` invocation in\nC:\\Users\\Acer\\Desktop\\Vant\\back-end\\src\\services\\conversation.service.ts:59:42\n\n  56   }\n  57 });\n  58 \n→ 59 const message = await prisma.message.create({\n       data: {\n         conversationId: \"b950715b-fbbf-4135-930a-9a3cc025a3a1\",\n         role: \"assistant\",\n         content: null,\n     +   conversation: {\n     +     create: ConversationCreateWithoutMessagesInput | ConversationUncheckedCreateWithoutMessagesInput,\n     +     connectOrCreate: ConversationCreateOrConnectWithoutMessagesInput,\n     +     connect: ConversationWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `conversation` is missing.\n    at wn (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at $n.handleRequestError (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\node_modules\\@prisma\\client\\runtime\\library.js:121:6958)\n    at $n.handleAndLogRequestError (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\node_modules\\@prisma\\client\\runtime\\library.js:121:6623)\n    at $n.request (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\node_modules\\@prisma\\client\\runtime\\library.js:121:6307)\n    at l (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\node_modules\\@prisma\\client\\runtime\\library.js:130:9633)\n    at ConversationService.addMessage (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\src\\services\\conversation.service.ts:59:21)\n    at chat (C:\\Users\\Acer\\Desktop\\Vant\\back-end\\src\\controllers\\ai.controller.ts:37:6)","timestamp":"2025-12-09 14:56:20"}
